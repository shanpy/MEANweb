<div ng-include="'partials/navbar.html'"></div>

<div ng-controller='IndexblogCtrl'>
  <div class='top'>
  <center>  
  <h1>Hello <span ng-show="currentUser">{{ currentUser.name }}</span>!</h1>
  <p class="lead">
    Welcome to Pengyin Shan's Website!
  </p>

  <!--LinkIn Profile-->
<script>
delete IN;
$.getScript("http://platform.linkedin.com/in.js")
</script>  
<script src="//platform.linkedin.com/in.js" type="text/javascript"></script>
<script type="IN/MemberProfile" data-id="http://www.linkedin.com/pub/pengyin-shan/31/490/9b6" data-format="inline" data-related="false"></script>
</center>
</div>

<hr/>
<p>
  This website is a study corner/blog for Pengyin Shan to practice skills in web development. Website is built by Node.js, AngularJS with Moongoose and Yeoman. You may notice I'm currently using Yoeman's template for practice:) Thank you Yeoman team!
</p>
<p>
  Sorry, currently I'm still working on this website and a few functions still not work. I'm working hard to solve problems and add more functions. <b>If you notice that AngularJS temporary not work, please wait for a few minites and refresh page. This behavior means I'm modifying website and getting some error.</b>Thanks for visiting and please come back to check updates!
</p>
<p>I would like to communicate with anyone who is interested in web developement. Please don't hesitate to <a href="/sendemail">contact me</a> !
</p>
<p></p>
<hr/>
  <!-- Blog List Section-->
  <p>There are {{blogs.length}} posts</p>
  <p></p>
  <div ng-repeat = 'blog in blogs'>
    <hr/>
    <h4>{{blog.title}}</h4>
    <h5>{{blog.date}}</h5>  
    <h6>{{blog.introduction}}</h6> 
     
    <button id="readfull" class="btn btn-primary" ng-click="getModal(blog.id)">Read More</button> 
    
    <div ng-show="getadmin(currentUser)">
    <button class="btn btn-default" ng-click="editblog(blog.id); editmode = !editmode">Edit Article</button>
    <button class="btn btn-default" ng-click="deleteblog(blog.id)">Delete Article</button>
    </div>
    <hr/>
    
    <!--Read Blog Part -->
    <div ng-controller="ReadblogCtrl">
    <script type="text/ng-template" id="readblog.html">
        <div class="modal-header">
            <h3 class="modal-title">{{blog.test}}</h3>
        </div>
        <div class="modal-body">
            This function is under development. Please check again later!
        </div>
      </script>
    </div>


<!--Edit Blog Part -->
    <div id="editblog" ng-show="editmode">
      <h2>Edit Article</h2>
      <label for='title'>Title: </label>
      <input ng-model='form.title' name='title'/>
      <label for='introduction'>Introduction: </label>
      <input ng-model='form.introduction' name='title'/>
      <p>Content:
        <textarea ng-model='form.content' cols='50' rows='15'></textarea>
      </p>
      <p>
        <button class="btn btn-default" ng-click='doedit(form.id)'>Finish Editing</button>
      </p>
     </div>
<p></p>
<!--Blog Options-->
<div ng-show="getadmin(currentUser)">
<a href='/addblog'>Add Article</a>
<hr/>
</div>

<div class="footer">
  <center>
  <p>Pengyin Shan, who graduated from The Ohio State University on Dec, 2013, is digging into the world of web development. Please feel free to contact me on LinkedIn.
  </p>
</center>
</div>

</div>
</div>

